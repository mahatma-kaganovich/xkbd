/* generated by ./ks2unicode1.pl from /usr/include/X11/keysymdef.h */

#include <string.h>
#include <stdio.h>
#include <stdlib.h>
#include <X11/Xlib.h>

#define ks2u_size 1370
const struct ks2unicode {KeySym ks; unsigned short u;} ks2u[ks2u_size]={
{32,32},
{33,33},
{34,34},
{35,35},
{36,36},
{37,37},
{38,38},
{39,39},
{40,40},
{41,41},
{42,42},
{43,43},
{44,44},
{45,45},
{46,46},
{47,47},
{48,48},
{49,49},
{50,50},
{51,51},
{52,52},
{53,53},
{54,54},
{55,55},
{56,56},
{57,57},
{58,58},
{59,59},
{60,60},
{61,61},
{62,62},
{63,63},
{64,64},
{65,65},
{66,66},
{67,67},
{68,68},
{69,69},
{70,70},
{71,71},
{72,72},
{73,73},
{74,74},
{75,75},
{76,76},
{77,77},
{78,78},
{79,79},
{80,80},
{81,81},
{82,82},
{83,83},
{84,84},
{85,85},
{86,86},
{87,87},
{88,88},
{89,89},
{90,90},
{91,91},
{92,92},
{93,93},
{94,94},
{95,95},
{96,96},
{97,97},
{98,98},
{99,99},
{100,100},
{101,101},
{102,102},
{103,103},
{104,104},
{105,105},
{106,106},
{107,107},
{108,108},
{109,109},
{110,110},
{111,111},
{112,112},
{113,113},
{114,114},
{115,115},
{116,116},
{117,117},
{118,118},
{119,119},
{120,120},
{121,121},
{122,122},
{123,123},
{124,124},
{125,125},
{126,126},
{160,160},
{161,161},
{162,162},
{163,163},
{164,164},
{165,165},
{166,166},
{167,167},
{168,168},
{169,169},
{170,170},
{171,171},
{172,172},
{173,173},
{174,174},
{175,175},
{176,176},
{177,177},
{178,178},
{179,179},
{180,180},
{181,181},
{182,182},
{183,183},
{184,184},
{185,185},
{186,186},
{187,187},
{188,188},
{189,189},
{190,190},
{191,191},
{192,192},
{193,193},
{194,194},
{195,195},
{196,196},
{197,197},
{198,198},
{199,199},
{200,200},
{201,201},
{202,202},
{203,203},
{204,204},
{205,205},
{206,206},
{207,207},
{208,208},
{209,209},
{210,210},
{211,211},
{212,212},
{213,213},
{214,214},
{215,215},
{216,216},
{217,217},
{218,218},
{219,219},
{220,220},
{221,221},
{222,222},
{223,223},
{224,224},
{225,225},
{226,226},
{227,227},
{228,228},
{229,229},
{230,230},
{231,231},
{232,232},
{233,233},
{234,234},
{235,235},
{236,236},
{237,237},
{238,238},
{239,239},
{240,240},
{241,241},
{242,242},
{243,243},
{244,244},
{245,245},
{246,246},
{247,247},
{248,248},
{249,249},
{250,250},
{251,251},
{252,252},
{253,253},
{254,254},
{255,255},
{417,260},
{418,728},
{419,321},
{421,317},
{422,346},
{425,352},
{426,350},
{427,356},
{428,377},
{430,381},
{431,379},
{433,261},
{434,731},
{435,322},
{437,318},
{438,347},
{439,711},
{441,353},
{442,351},
{443,357},
{444,378},
{445,733},
{446,382},
{447,380},
{448,340},
{451,258},
{453,313},
{454,262},
{456,268},
{458,280},
{460,282},
{463,270},
{464,272},
{465,323},
{466,327},
{469,336},
{472,344},
{473,366},
{475,368},
{478,354},
{480,341},
{483,259},
{485,314},
{486,263},
{488,269},
{490,281},
{492,283},
{495,271},
{496,273},
{497,324},
{498,328},
{501,337},
{504,345},
{505,367},
{507,369},
{510,355},
{511,729},
{673,294},
{678,292},
{681,304},
{683,286},
{684,308},
{689,295},
{694,293},
{697,305},
{699,287},
{700,309},
{709,266},
{710,264},
{725,288},
{728,284},
{733,364},
{734,348},
{741,267},
{742,265},
{757,289},
{760,285},
{765,365},
{766,349},
{930,312},
{931,342},
{933,296},
{934,315},
{938,274},
{939,290},
{940,358},
{947,343},
{949,297},
{950,316},
{954,275},
{955,291},
{956,359},
{957,330},
{959,331},
{960,256},
{967,302},
{972,278},
{975,298},
{977,325},
{978,332},
{979,310},
{985,370},
{989,360},
{990,362},
{992,257},
{999,303},
{1004,279},
{1007,299},
{1009,326},
{1010,333},
{1011,311},
{1017,371},
{1021,361},
{1022,363},
{1150,8254},
{1185,12290},
{1186,12300},
{1187,12301},
{1188,12289},
{1189,12539},
{1190,12530},
{1191,12449},
{1192,12451},
{1193,12453},
{1194,12455},
{1195,12457},
{1196,12515},
{1197,12517},
{1198,12519},
{1199,12483},
{1200,12540},
{1201,12450},
{1202,12452},
{1203,12454},
{1204,12456},
{1205,12458},
{1206,12459},
{1207,12461},
{1208,12463},
{1209,12465},
{1210,12467},
{1211,12469},
{1212,12471},
{1213,12473},
{1214,12475},
{1215,12477},
{1216,12479},
{1217,12481},
{1218,12484},
{1219,12486},
{1220,12488},
{1221,12490},
{1222,12491},
{1223,12492},
{1224,12493},
{1225,12494},
{1226,12495},
{1227,12498},
{1228,12501},
{1229,12504},
{1230,12507},
{1231,12510},
{1232,12511},
{1233,12512},
{1234,12513},
{1235,12514},
{1236,12516},
{1237,12518},
{1238,12520},
{1239,12521},
{1240,12522},
{1241,12523},
{1242,12524},
{1243,12525},
{1244,12527},
{1245,12531},
{1246,12443},
{1247,12444},
{1452,1548},
{1467,1563},
{1471,1567},
{1473,1569},
{1474,1570},
{1475,1571},
{1476,1572},
{1477,1573},
{1478,1574},
{1479,1575},
{1480,1576},
{1481,1577},
{1482,1578},
{1483,1579},
{1484,1580},
{1485,1581},
{1486,1582},
{1487,1583},
{1488,1584},
{1489,1585},
{1490,1586},
{1491,1587},
{1492,1588},
{1493,1589},
{1494,1590},
{1495,1591},
{1496,1592},
{1497,1593},
{1498,1594},
{1504,1600},
{1505,1601},
{1506,1602},
{1507,1603},
{1508,1604},
{1509,1605},
{1510,1606},
{1511,1607},
{1512,1608},
{1513,1609},
{1514,1610},
{1515,1611},
{1516,1612},
{1517,1613},
{1518,1614},
{1519,1615},
{1520,1616},
{1521,1617},
{1522,1618},
{1697,1106},
{1698,1107},
{1699,1105},
{1700,1108},
{1701,1109},
{1702,1110},
{1703,1111},
{1704,1112},
{1705,1113},
{1706,1114},
{1707,1115},
{1708,1116},
{1709,1169},
{1710,1118},
{1711,1119},
{1712,8470},
{1713,1026},
{1714,1027},
{1715,1025},
{1716,1028},
{1717,1029},
{1718,1030},
{1719,1031},
{1720,1032},
{1721,1033},
{1722,1034},
{1723,1035},
{1724,1036},
{1725,1168},
{1726,1038},
{1727,1039},
{1728,1102},
{1729,1072},
{1730,1073},
{1731,1094},
{1732,1076},
{1733,1077},
{1734,1092},
{1735,1075},
{1736,1093},
{1737,1080},
{1738,1081},
{1739,1082},
{1740,1083},
{1741,1084},
{1742,1085},
{1743,1086},
{1744,1087},
{1745,1103},
{1746,1088},
{1747,1089},
{1748,1090},
{1749,1091},
{1750,1078},
{1751,1074},
{1752,1100},
{1753,1099},
{1754,1079},
{1755,1096},
{1756,1101},
{1757,1097},
{1758,1095},
{1759,1098},
{1760,1070},
{1761,1040},
{1762,1041},
{1763,1062},
{1764,1044},
{1765,1045},
{1766,1060},
{1767,1043},
{1768,1061},
{1769,1048},
{1770,1049},
{1771,1050},
{1772,1051},
{1773,1052},
{1774,1053},
{1775,1054},
{1776,1055},
{1777,1071},
{1778,1056},
{1779,1057},
{1780,1058},
{1781,1059},
{1782,1046},
{1783,1042},
{1784,1068},
{1785,1067},
{1786,1047},
{1787,1064},
{1788,1069},
{1789,1065},
{1790,1063},
{1791,1066},
{1953,902},
{1954,904},
{1955,905},
{1956,906},
{1957,938},
{1959,908},
{1960,910},
{1961,939},
{1963,911},
{1966,901},
{1967,8213},
{1969,940},
{1970,941},
{1971,942},
{1972,943},
{1973,970},
{1974,912},
{1975,972},
{1976,973},
{1977,971},
{1978,944},
{1979,974},
{1985,913},
{1986,914},
{1987,915},
{1988,916},
{1989,917},
{1990,918},
{1991,919},
{1992,920},
{1993,921},
{1994,922},
{1995,923},
{1996,924},
{1997,925},
{1998,926},
{1999,927},
{2000,928},
{2001,929},
{2002,931},
{2004,932},
{2005,933},
{2006,934},
{2007,935},
{2008,936},
{2009,937},
{2017,945},
{2018,946},
{2019,947},
{2020,948},
{2021,949},
{2022,950},
{2023,951},
{2024,952},
{2025,953},
{2026,954},
{2027,955},
{2028,956},
{2029,957},
{2030,958},
{2031,959},
{2032,960},
{2033,961},
{2034,963},
{2035,962},
{2036,964},
{2037,965},
{2038,966},
{2039,967},
{2040,968},
{2041,969},
{2209,9143},
{2212,8992},
{2213,8993},
{2215,9121},
{2216,9123},
{2217,9124},
{2218,9126},
{2219,9115},
{2220,9117},
{2221,9118},
{2222,9120},
{2223,9128},
{2224,9132},
{2236,8804},
{2237,8800},
{2238,8805},
{2239,8747},
{2240,8756},
{2241,8733},
{2242,8734},
{2245,8711},
{2248,8764},
{2249,8771},
{2253,8660},
{2254,8658},
{2255,8801},
{2262,8730},
{2266,8834},
{2267,8835},
{2268,8745},
{2269,8746},
{2270,8743},
{2271,8744},
{2287,8706},
{2294,402},
{2299,8592},
{2300,8593},
{2301,8594},
{2302,8595},
{2528,9670},
{2529,9618},
{2530,9225},
{2531,9228},
{2532,9229},
{2533,9226},
{2536,9252},
{2537,9227},
{2538,9496},
{2539,9488},
{2540,9484},
{2541,9492},
{2542,9532},
{2543,9146},
{2544,9147},
{2545,9472},
{2546,9148},
{2547,9149},
{2548,9500},
{2549,9508},
{2550,9524},
{2551,9516},
{2552,9474},
{2721,8195},
{2722,8194},
{2723,8196},
{2724,8197},
{2725,8199},
{2726,8200},
{2727,8201},
{2728,8202},
{2729,8212},
{2730,8211},
{2734,8230},
{2735,8229},
{2736,8531},
{2737,8532},
{2738,8533},
{2739,8534},
{2740,8535},
{2741,8536},
{2742,8537},
{2743,8538},
{2744,8453},
{2747,8210},
{2755,8539},
{2756,8540},
{2757,8541},
{2758,8542},
{2761,8482},
{2768,8216},
{2769,8217},
{2770,8220},
{2771,8221},
{2772,8478},
{2773,8240},
{2774,8242},
{2775,8243},
{2777,10013},
{2796,9827},
{2797,9830},
{2798,9829},
{2800,10016},
{2801,8224},
{2802,8225},
{2803,10003},
{2804,10007},
{2805,9839},
{2806,9837},
{2807,9794},
{2808,9792},
{2809,9742},
{2810,8981},
{2811,8471},
{2812,8248},
{2813,8218},
{2814,8222},
{3010,8868},
{3012,8970},
{3018,8728},
{3020,9109},
{3022,8869},
{3023,9675},
{3027,8968},
{3036,8867},
{3068,8866},
{3295,8215},
{3296,1488},
{3297,1489},
{3298,1490},
{3299,1491},
{3300,1492},
{3301,1493},
{3302,1494},
{3303,1495},
{3304,1496},
{3305,1497},
{3306,1498},
{3307,1499},
{3308,1500},
{3309,1501},
{3310,1502},
{3311,1503},
{3312,1504},
{3313,1505},
{3314,1506},
{3315,1507},
{3316,1508},
{3317,1509},
{3318,1510},
{3319,1511},
{3320,1512},
{3321,1513},
{3322,1514},
{3489,3585},
{3490,3586},
{3491,3587},
{3492,3588},
{3493,3589},
{3494,3590},
{3495,3591},
{3496,3592},
{3497,3593},
{3498,3594},
{3499,3595},
{3500,3596},
{3501,3597},
{3502,3598},
{3503,3599},
{3504,3600},
{3505,3601},
{3506,3602},
{3507,3603},
{3508,3604},
{3509,3605},
{3510,3606},
{3511,3607},
{3512,3608},
{3513,3609},
{3514,3610},
{3515,3611},
{3516,3612},
{3517,3613},
{3518,3614},
{3519,3615},
{3520,3616},
{3521,3617},
{3522,3618},
{3523,3619},
{3524,3620},
{3525,3621},
{3526,3622},
{3527,3623},
{3528,3624},
{3529,3625},
{3530,3626},
{3531,3627},
{3532,3628},
{3533,3629},
{3534,3630},
{3535,3631},
{3536,3632},
{3537,3633},
{3538,3634},
{3539,3635},
{3540,3636},
{3541,3637},
{3542,3638},
{3543,3639},
{3544,3640},
{3545,3641},
{3546,3642},
{3551,3647},
{3552,3648},
{3553,3649},
{3554,3650},
{3555,3651},
{3556,3652},
{3557,3653},
{3558,3654},
{3559,3655},
{3560,3656},
{3561,3657},
{3562,3658},
{3563,3659},
{3564,3660},
{3565,3661},
{3568,3664},
{3569,3665},
{3570,3666},
{3571,3667},
{3572,3668},
{3573,3669},
{3574,3670},
{3575,3671},
{3576,3672},
{3577,3673},
{5052,338},
{5053,339},
{5054,376},
{8364,8364},
{16777516,300},
{16777517,301},
{16777588,372},
{16777589,373},
{16777590,374},
{16777591,375},
{16777615,399},
{16777631,415},
{16777632,416},
{16777633,417},
{16777647,431},
{16777648,432},
{16777653,437},
{16777654,438},
{16777655,439},
{16777681,466},
{16777682,466},
{16777702,486},
{16777703,487},
{16777817,601},
{16777845,629},
{16777874,658},
{16778386,1170},
{16778387,1171},
{16778390,1174},
{16778391,1175},
{16778394,1178},
{16778395,1179},
{16778396,1180},
{16778397,1181},
{16778402,1186},
{16778403,1187},
{16778414,1198},
{16778415,1199},
{16778416,1200},
{16778417,1201},
{16778418,1202},
{16778419,1203},
{16778422,1206},
{16778423,1207},
{16778424,1208},
{16778425,1209},
{16778426,1210},
{16778427,1211},
{16778456,1240},
{16778457,1241},
{16778466,1250},
{16778467,1251},
{16778472,1256},
{16778473,1257},
{16778478,1262},
{16778479,1263},
{16778545,1329},
{16778546,1330},
{16778547,1331},
{16778548,1332},
{16778549,1333},
{16778550,1334},
{16778551,1335},
{16778552,1336},
{16778553,1337},
{16778554,1338},
{16778555,1339},
{16778556,1340},
{16778557,1341},
{16778558,1342},
{16778559,1343},
{16778560,1344},
{16778561,1345},
{16778562,1346},
{16778563,1347},
{16778564,1348},
{16778565,1349},
{16778566,1350},
{16778567,1351},
{16778568,1352},
{16778569,1353},
{16778570,1354},
{16778571,1355},
{16778572,1356},
{16778573,1357},
{16778574,1358},
{16778575,1359},
{16778576,1360},
{16778577,1361},
{16778578,1362},
{16778579,1363},
{16778580,1364},
{16778581,1365},
{16778582,1366},
{16778586,1370},
{16778587,1371},
{16778588,1372},
{16778589,1373},
{16778590,1374},
{16778593,1377},
{16778594,1378},
{16778595,1379},
{16778596,1380},
{16778597,1381},
{16778598,1382},
{16778599,1383},
{16778600,1384},
{16778601,1385},
{16778602,1386},
{16778603,1387},
{16778604,1388},
{16778605,1389},
{16778606,1390},
{16778607,1391},
{16778608,1392},
{16778609,1393},
{16778610,1394},
{16778611,1395},
{16778612,1396},
{16778613,1397},
{16778614,1398},
{16778615,1399},
{16778616,1400},
{16778617,1401},
{16778618,1402},
{16778619,1403},
{16778620,1404},
{16778621,1405},
{16778622,1406},
{16778623,1407},
{16778624,1408},
{16778625,1409},
{16778626,1410},
{16778627,1411},
{16778628,1412},
{16778629,1413},
{16778630,1414},
{16778631,1415},
{16778633,1417},
{16778634,1418},
{16778835,1619},
{16778836,1620},
{16778837,1621},
{16778848,1632},
{16778849,1633},
{16778850,1634},
{16778851,1635},
{16778852,1636},
{16778853,1637},
{16778854,1638},
{16778855,1639},
{16778856,1640},
{16778857,1641},
{16778858,1642},
{16778864,1648},
{16778873,1657},
{16778878,1662},
{16778886,1670},
{16778888,1672},
{16778897,1681},
{16778904,1688},
{16778916,1700},
{16778921,1705},
{16778927,1711},
{16778938,1722},
{16778942,1726},
{16778945,1729},
{16778956,1740},
{16778962,1746},
{16778964,1748},
{16778992,1776},
{16778993,1777},
{16778994,1778},
{16778995,1779},
{16778996,1780},
{16778997,1781},
{16778998,1782},
{16778999,1783},
{16779000,1784},
{16779001,1785},
{16780674,3458},
{16780675,3459},
{16780677,3461},
{16780678,3462},
{16780679,3463},
{16780680,3464},
{16780681,3465},
{16780682,3466},
{16780683,3467},
{16780684,3468},
{16780685,3469},
{16780686,3470},
{16780687,3471},
{16780688,3472},
{16780689,3473},
{16780690,3474},
{16780691,3475},
{16780692,3476},
{16780693,3477},
{16780694,3478},
{16780698,3482},
{16780699,3483},
{16780700,3484},
{16780701,3485},
{16780702,3486},
{16780703,3487},
{16780704,3488},
{16780705,3489},
{16780706,3490},
{16780707,3491},
{16780708,3492},
{16780709,3493},
{16780710,3494},
{16780711,3495},
{16780712,3496},
{16780713,3497},
{16780714,3498},
{16780715,3499},
{16780716,3500},
{16780717,3501},
{16780718,3502},
{16780719,3503},
{16780720,3504},
{16780721,3505},
{16780723,3507},
{16780724,3508},
{16780725,3509},
{16780726,3510},
{16780727,3511},
{16780728,3512},
{16780729,3513},
{16780730,3514},
{16780731,3515},
{16780733,3517},
{16780736,3520},
{16780737,3521},
{16780738,3522},
{16780739,3523},
{16780740,3524},
{16780741,3525},
{16780742,3526},
{16780746,3530},
{16780751,3535},
{16780752,3536},
{16780753,3537},
{16780754,3538},
{16780755,3539},
{16780756,3540},
{16780758,3542},
{16780760,3544},
{16780761,3545},
{16780762,3546},
{16780763,3547},
{16780764,3548},
{16780765,3549},
{16780766,3550},
{16780767,3551},
{16780786,3570},
{16780787,3571},
{16780788,3572},
{16781520,4304},
{16781521,4305},
{16781522,4306},
{16781523,4307},
{16781524,4308},
{16781525,4309},
{16781526,4310},
{16781527,4311},
{16781528,4312},
{16781529,4313},
{16781530,4314},
{16781531,4315},
{16781532,4316},
{16781533,4317},
{16781534,4318},
{16781535,4319},
{16781536,4320},
{16781537,4321},
{16781538,4322},
{16781539,4323},
{16781540,4324},
{16781541,4325},
{16781542,4326},
{16781543,4327},
{16781544,4328},
{16781545,4329},
{16781546,4330},
{16781547,4331},
{16781548,4332},
{16781549,4333},
{16781550,4334},
{16781551,4335},
{16781552,4336},
{16781553,4337},
{16781554,4338},
{16781555,4339},
{16781556,4340},
{16781557,4341},
{16781558,4342},
{16784898,7682},
{16784899,7683},
{16784906,7690},
{16784907,7691},
{16784926,7710},
{16784927,7711},
{16784950,7734},
{16784951,7735},
{16784960,7744},
{16784961,7745},
{16784982,7766},
{16784983,7767},
{16784992,7776},
{16784993,7777},
{16785002,7786},
{16785003,7787},
{16785024,7808},
{16785025,7809},
{16785026,7810},
{16785027,7811},
{16785028,7812},
{16785029,7813},
{16785034,7818},
{16785035,7819},
{16785056,7840},
{16785057,7841},
{16785058,7842},
{16785059,7843},
{16785060,7844},
{16785061,7845},
{16785062,7846},
{16785063,7847},
{16785064,7848},
{16785065,7849},
{16785066,7850},
{16785067,7851},
{16785068,7852},
{16785069,7853},
{16785070,7854},
{16785071,7855},
{16785072,7856},
{16785073,7857},
{16785074,7858},
{16785075,7859},
{16785076,7860},
{16785077,7861},
{16785078,7862},
{16785079,7863},
{16785080,7864},
{16785081,7865},
{16785082,7866},
{16785083,7867},
{16785084,7868},
{16785085,7869},
{16785086,7870},
{16785087,7871},
{16785088,7872},
{16785089,7873},
{16785090,7874},
{16785091,7875},
{16785092,7876},
{16785093,7877},
{16785094,7878},
{16785095,7879},
{16785096,7880},
{16785097,7881},
{16785098,7882},
{16785099,7883},
{16785100,7884},
{16785101,7885},
{16785102,7886},
{16785103,7887},
{16785104,7888},
{16785105,7889},
{16785106,7890},
{16785107,7891},
{16785108,7892},
{16785109,7893},
{16785110,7894},
{16785111,7895},
{16785112,7896},
{16785113,7897},
{16785114,7898},
{16785115,7899},
{16785116,7900},
{16785117,7901},
{16785118,7902},
{16785119,7903},
{16785120,7904},
{16785121,7905},
{16785122,7906},
{16785123,7907},
{16785124,7908},
{16785125,7909},
{16785126,7910},
{16785127,7911},
{16785128,7912},
{16785129,7913},
{16785130,7914},
{16785131,7915},
{16785132,7916},
{16785133,7917},
{16785134,7918},
{16785135,7919},
{16785136,7920},
{16785137,7921},
{16785138,7922},
{16785139,7923},
{16785140,7924},
{16785141,7925},
{16785142,7926},
{16785143,7927},
{16785144,7928},
{16785145,7929},
{16785520,8304},
{16785524,8308},
{16785525,8309},
{16785526,8310},
{16785527,8311},
{16785528,8312},
{16785529,8313},
{16785536,8320},
{16785537,8321},
{16785538,8322},
{16785539,8323},
{16785540,8324},
{16785541,8325},
{16785542,8326},
{16785543,8327},
{16785544,8328},
{16785545,8329},
{16785568,8352},
{16785569,8353},
{16785570,8354},
{16785571,8355},
{16785572,8356},
{16785573,8357},
{16785574,8358},
{16785575,8359},
{16785576,8360},
{16785577,8361},
{16785578,8362},
{16785579,8363},
{16785922,8706},
{16785925,8709},
{16785928,8712},
{16785929,8713},
{16785973,8757},
{16785991,8775},
{16785992,8773},
{16786018,8802},
{16786019,8803},
{16787456,10240},
{16787457,10241},
{16787458,10242},
{16787459,10243},
{16787460,10244},
{16787461,10245},
{16787462,10246},
{16787463,10247},
{16787464,10248},
{16787465,10249},
{16787472,10256},
{16787473,10257},
{16787474,10258},
{16787475,10259},
{16787476,10260},
{16787477,10261},
{16787478,10262},
{16787479,10263},
{16787480,10264},
{16787481,10265},
{16787488,10272},
{16787489,10273},
{16787490,10274},
{16787491,10275},
{16787492,10276},
{16787493,10277},
{16787494,10278},
{16787495,10279},
{16787496,10280},
{16787497,10281},
{16787504,10288},
{16787505,10289},
{16787506,10290},
{16787507,10291},
{16787508,10292},
{16787509,10293},
{16787510,10294},
{16787511,10295},
{16787512,10296},
{16787513,10297},
{16787520,10304},
{16787521,10305},
{16787522,10306},
{16787523,10307},
{16787524,10308},
{16787525,10309},
{16787526,10310},
{16787527,10311},
{16787528,10312},
{16787529,10313},
{16787536,10320},
{16787537,10321},
{16787538,10322},
{16787539,10323},
{16787540,10324},
{16787541,10325},
{16787542,10326},
{16787543,10327},
{16787544,10328},
{16787545,10329},
{16787552,10336},
{16787553,10337},
{16787554,10338},
{16787555,10339},
{16787556,10340},
{16787557,10341},
{16787558,10342},
{16787559,10343},
{16787560,10344},
{16787561,10345},
{16787568,10352},
{16787569,10353},
{16787570,10354},
{16787571,10355},
{16787572,10356},
{16787573,10357},
{16787574,10358},
{16787575,10359},
{16787576,10360},
{16787577,10361},
{16787584,10368},
{16787585,10369},
{16787586,10370},
{16787587,10371},
{16787588,10372},
{16787589,10373},
{16787590,10374},
{16787591,10375},
{16787592,10376},
{16787593,10377},
{16787600,10384},
{16787601,10385},
{16787602,10386},
{16787603,10387},
{16787604,10388},
{16787605,10389},
{16787606,10390},
{16787607,10391},
{16787608,10392},
{16787609,10393},
};

void ksText(KeySym ks, char **txt)
{
	char s[4];
	unsigned int n;
	unsigned int wc;
	struct ks2unicode *k2u;
	int p1 = 0;
	int p2 = ks2u_size-1;
	int p;
	KeySym k;

	if (!ks || *txt) return;
	if (ks > 0x01000000){
		wc = ks - 0x01000000;
		goto wide;
	}

	if (ks < ks2u[p1].ks || ks > ks2u[p2].ks) goto notfound;

next:
	p = (p1+p2)>>1;
	if (p == p1) goto notfound;
	k = ks2u[p].ks;
	if (ks > k) {
		p1 = p;
		goto next;
	}
	if (ks < k) {
		p2 = p;
		goto next;
	}
found:
	wc = ks2u[p].u;
wide:
	if (wc < 0x000080) {
		n=1;
		s[0]=(char)wc;
	} else if (wc < 0x000800) {
		n=2;
		s[1] = (char) (0x80 | (wc & 0x3F)); wc >>= 6;
		s[0] = (char) (0xC0 | wc);
	} else if (wc < 0x010000) {
		n=3;
		s[2] = (char) (0x80 | (wc & 0x3F)); wc >>= 6;
		s[1] = (char) (0x80 | (wc & 0x3F)); wc >>= 6;
		s[0] = (char) (0xE0 | wc);
	} else if (wc < 0x200000) {
		n=4;
		s[3] = (char) (0x80 | (wc & 0x3F)); wc >>= 6;
		s[2] = (char) (0x80 | (wc & 0x3F)); wc >>= 6;
		s[1] = (char) (0x80 | (wc & 0x3F)); wc >>= 6;
		s[0] = (char) (0xF0 | wc);
	} else {
		*txt=XKeysymToString(ks);
		if (!*txt) sprintf(*txt=malloc(7),"U+%04X",wc);
		return;
	}
	s[n]=0;
	*txt = malloc(n);
	memcpy(*txt,s,n);
	(*txt)[n] = 0;
	return;
notfound:
	*txt=XKeysymToString(ks);
	if (!*txt) sprintf(*txt=malloc(10),"?%lx",ks);
	return;
}

